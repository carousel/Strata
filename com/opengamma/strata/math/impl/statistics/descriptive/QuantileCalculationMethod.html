<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Wed Dec 04 13:52:32 CET 2019 -->
<title>QuantileCalculationMethod</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-12-04">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="QuantileCalculationMethod";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":6,"i2":10,"i3":10,"i4":10,"i5":6,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.opengamma.strata.math.impl.statistics.descriptive</a></div>
<h2 title="Class QuantileCalculationMethod" class="title">Class QuantileCalculationMethod</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.opengamma.strata.math.impl.statistics.descriptive.QuantileCalculationMethod</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DiscreteQuantileMethod.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">DiscreteQuantileMethod</a></code>, <code><a href="ExponentiallyWeightedInterpolationQuantileMethod.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">ExponentiallyWeightedInterpolationQuantileMethod</a></code>, <code><a href="InterpolationQuantileMethod.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">InterpolationQuantileMethod</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">QuantileCalculationMethod</span>
extends java.lang.Object</pre>
<div class="block">Abstract method to estimate quantiles and expected shortfalls from sample observations.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">QuantileCalculationMethod</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIndex(double,int,boolean)">checkIndex</a></span>&#8203;(double&nbsp;index,
          int&nbsp;size,
          boolean&nbsp;isExtrapolated)</code></th>
<td class="colLast">
<div class="block">Check the index is within the sample data range.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expectedShortfall(double,com.opengamma.strata.collect.array.DoubleArray)">expectedShortfall</a></span>&#8203;(double&nbsp;level,
                 <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Computed the expected shortfall.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expectedShortfallFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)">expectedShortfallFromSorted</a></span>&#8203;(double&nbsp;level,
                           <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sortedSample)</code></th>
<td class="colLast">
<div class="block">Compute the expected shortfall.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expectedShortfallFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">expectedShortfallFromUnsorted</a></span>&#8203;(double&nbsp;level,
                             <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Compute the expected shortfall.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expectedShortfallResultFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">expectedShortfallResultFromUnsorted</a></span>&#8203;(double&nbsp;level,
                                   <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Compute the expected shortfall.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantile(double,com.opengamma.strata.collect.array.DoubleArray,boolean)">quantile</a></span>&#8203;(double&nbsp;level,
        <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample,
        boolean&nbsp;isExtrapolated)</code></th>
<td class="colLast">
<div class="block">Computed the quantile.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantileFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)">quantileFromSorted</a></span>&#8203;(double&nbsp;level,
                  <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sortedSample)</code></th>
<td class="colLast">
<div class="block">Compute the quantile estimation.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantileFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">quantileFromUnsorted</a></span>&#8203;(double&nbsp;level,
                    <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Compute the quantile estimation.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantileResultFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">quantileResultFromUnsorted</a></span>&#8203;(double&nbsp;level,
                          <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Compute the quantile estimation.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantileResultWithExtrapolationFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">quantileResultWithExtrapolationFromUnsorted</a></span>&#8203;(double&nbsp;level,
                                           <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Compute the quantile estimation.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantileWithExtrapolationFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)">quantileWithExtrapolationFromSorted</a></span>&#8203;(double&nbsp;level,
                                   <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sortedSample)</code></th>
<td class="colLast">
<div class="block">Compute the quantile estimation.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#quantileWithExtrapolationFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">quantileWithExtrapolationFromUnsorted</a></span>&#8203;(double&nbsp;level,
                                     <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Compute the quantile estimation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>QuantileCalculationMethod</h4>
<pre>public&nbsp;QuantileCalculationMethod()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="quantileResultFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantileResultFromUnsorted</h4>
<pre class="methodSignature">public&nbsp;<a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a>&nbsp;quantileResultFromUnsorted&#8203;(double&nbsp;level,
                                                 <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Compute the quantile estimation.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, the quantile estimation with the level 99% corresponds to
 the smallest 99% observations and 1% of the observation are above that level.
 <p>
 If index value computed from the level is outside of the sample data range,
 <code>IllegalArgumentException</code> is thrown.
 <p>
 The sample observations are supposed to be unsorted.
 <p>
 The quantile result produced contains the quantile value, the indices of the data points used to compute
 it as well as the weights assigned to each point in the computation. The indices are based on the original,
 unsorted array. Additionally, the indices start from 0 and so do not need to be shifted to account for java
 indexing, when using them to reference the data points in the quantile calculation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile estimation</dd>
</dl>
</li>
</ul>
<a id="quantileResultWithExtrapolationFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantileResultWithExtrapolationFromUnsorted</h4>
<pre class="methodSignature">public&nbsp;<a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a>&nbsp;quantileResultWithExtrapolationFromUnsorted&#8203;(double&nbsp;level,
                                                                  <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Compute the quantile estimation.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, the quantile estimation with the level 99% corresponds to
 the smallest 99% observations and 1% of the observation are above that level.
 <p>
 If index value computed from the level is outside of the sample data range, the nearest data point is used, i.e.,
 quantile is computed with flat extrapolation.
 <p>
 The sample observations are supposed to be unsorted.
 <p>
 The quantile result produced contains the quantile value, the indices of the data points used to compute
 it as well as the weights assigned to each point in the computation. The indices are based on the original,
 unsorted array. Additionally, the indices start from 0 and so do not need to be shifted to account for java
 indexing, when using them to reference the data points in the quantile calculation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile estimation</dd>
</dl>
</li>
</ul>
<a id="quantileFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantileFromSorted</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;quantileFromSorted&#8203;(double&nbsp;level,
                                 <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sortedSample)</pre>
<div class="block">Compute the quantile estimation.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, Thus the quantile estimation with the level 99% corresponds to
 the smallest 99% observations.
 <p>
 If index value computed from the level is outside of the sample data range,
 <code>IllegalArgumentException</code> is thrown.
 <p>
 The sample observations are sorted from the smallest to the largest.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sortedSample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile estimation</dd>
</dl>
</li>
</ul>
<a id="quantileFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantileFromUnsorted</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;quantileFromUnsorted&#8203;(double&nbsp;level,
                                   <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Compute the quantile estimation.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, Thus the quantile estimation with the level 99% corresponds to
 the smallest 99% observations.
 <p>
 If index value computed from the level is outside of the sample data range,
 <code>IllegalArgumentException</code> is thrown.
 <p>
 The sample observations are supposed to be unsorted, the first step is to sort the data.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The quantile estimation</dd>
</dl>
</li>
</ul>
<a id="quantileWithExtrapolationFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantileWithExtrapolationFromSorted</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;quantileWithExtrapolationFromSorted&#8203;(double&nbsp;level,
                                                  <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sortedSample)</pre>
<div class="block">Compute the quantile estimation.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, Thus the quantile estimation with the level 99% corresponds to
 the smallest 99% observations.
 <p>
 If index value computed from the level is outside of the sample data range, the nearest data point is used, i.e.,
 quantile is computed with flat extrapolation.
 <p>
 The sample observations are sorted from the smallest to the largest.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sortedSample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile estimation</dd>
</dl>
</li>
</ul>
<a id="quantileWithExtrapolationFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantileWithExtrapolationFromUnsorted</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;quantileWithExtrapolationFromUnsorted&#8203;(double&nbsp;level,
                                                    <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Compute the quantile estimation.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, Thus the quantile estimation with the level 99% corresponds to
 the smallest 99% observations.
 <p>
 If index value computed from the level is outside of the sample data range, the nearest data point is used, i.e.,
 quantile is computed with flat extrapolation.
 <p>
 The sample observations are supposed to be unsorted, the first step is to sort the data.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The quantile estimation</dd>
</dl>
</li>
</ul>
<a id="expectedShortfallResultFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedShortfallResultFromUnsorted</h4>
<pre class="methodSignature">public&nbsp;<a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a>&nbsp;expectedShortfallResultFromUnsorted&#8203;(double&nbsp;level,
                                                          <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Compute the expected shortfall.
 <p>
 The shortfall level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, the expected shortfall with the level 99% corresponds to
 the average of the smallest 99% of the observations.
 <p>
 If index value computed from the level is outside of the sample data range, the nearest data point is used, i.e.,
 expected short fall is computed with flat extrapolation.
 Thus this is coherent to <a href="#quantileWithExtrapolationFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)"><code>quantileWithExtrapolationFromUnsorted(double, DoubleArray)</code></a>.
 <p>
 The sample observations are supposed to be unsorted.
 <p>
 The quantile result produced contains the expected shortfall value, the indices of the data points used to compute
 it as well as the weights assigned to each point in the computation. The indices are based on the original,
 unsorted array. Additionally, the indices start from 0 and so do not need to be shifted to account for java
 indexing, when using them to reference the data points in the quantile calculation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile estimation</dd>
</dl>
</li>
</ul>
<a id="expectedShortfallFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedShortfallFromSorted</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;expectedShortfallFromSorted&#8203;(double&nbsp;level,
                                          <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sortedSample)</pre>
<div class="block">Compute the expected shortfall.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, Thus the expected shortfall with the level 99% corresponds to
 the smallest 99% observations.
 <p>
 If index value computed from the level is outside of the sample data range, the nearest data point is used, i.e.,
 expected short fall is computed with flat extrapolation.
 Thus this is coherent to <a href="#quantileWithExtrapolationFromSorted(double,com.opengamma.strata.collect.array.DoubleArray)"><code>quantileWithExtrapolationFromSorted(double, DoubleArray)</code></a>.
 <p>
 The sample observations are sorted from the smallest to the largest.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sortedSample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile estimation</dd>
</dl>
</li>
</ul>
<a id="expectedShortfallFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedShortfallFromUnsorted</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;expectedShortfallFromUnsorted&#8203;(double&nbsp;level,
                                            <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Compute the expected shortfall.
 <p>
 The quantile level is in decimal, i.e. 99% = 0.99 and 0 < level < 1 should be satisfied.
 This is measured from the bottom, that is, Thus the expected shortfall with the level 99% corresponds to
 the smallest 99% observations.
 <p>
 If index value computed from the level is outside of the sample data range, the nearest data point is used, i.e.,
 expected short fall is computed with flat extrapolation.
 Thus this is coherent to <a href="#quantileWithExtrapolationFromUnsorted(double,com.opengamma.strata.collect.array.DoubleArray)"><code>quantileWithExtrapolationFromUnsorted(double, DoubleArray)</code></a>.
 <p>
 The sample observations are supposed to be unsorted, the first step is to sort the data.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The expected shortfall estimation</dd>
</dl>
</li>
</ul>
<a id="quantile(double,com.opengamma.strata.collect.array.DoubleArray,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quantile</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a>&nbsp;quantile&#8203;(double&nbsp;level,
                                           <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample,
                                           boolean&nbsp;isExtrapolated)</pre>
<div class="block">Computed the quantile.
 <p>
 This protected method should be implemented in subclasses.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dd><code>isExtrapolated</code> - extrapolated if true, not extrapolated otherwise.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the quantile</dd>
</dl>
</li>
</ul>
<a id="expectedShortfall(double,com.opengamma.strata.collect.array.DoubleArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedShortfall</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="QuantileResult.html" title="class in com.opengamma.strata.math.impl.statistics.descriptive">QuantileResult</a>&nbsp;expectedShortfall&#8203;(double&nbsp;level,
                                                    <a href="../../../../collect/array/DoubleArray.html" title="class in com.opengamma.strata.collect.array">DoubleArray</a>&nbsp;sample)</pre>
<div class="block">Computed the expected shortfall.
 <p>
 This protected method should be implemented in subclasses
 and coherent to <a href="#quantile(double,com.opengamma.strata.collect.array.DoubleArray,boolean)"><code>quantile(double, DoubleArray, boolean)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the quantile level</dd>
<dd><code>sample</code> - the sample observations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the expected shortfall</dd>
</dl>
</li>
</ul>
<a id="checkIndex(double,int,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkIndex</h4>
<pre class="methodSignature">protected&nbsp;double&nbsp;checkIndex&#8203;(double&nbsp;index,
                            int&nbsp;size,
                            boolean&nbsp;isExtrapolated)</pre>
<div class="block">Check the index is within the sample data range.
 <p>
 If the index is outside the data range, the nearest data point is used in case of <code>isExtrapolated == true</code> or
 an exception is thrown in case of <code>isExtrapolated == false</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index</dd>
<dd><code>size</code> - the sample size</dd>
<dd><code>isExtrapolated</code> - extrapolated if true, not extrapolated otherwise</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
